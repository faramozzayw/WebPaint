{"version":3,"sources":["store/actions/penActions.js","components/Panel/Thickness.jsx","components/Panel/ColorPicker.jsx","components/Panel/ClearButton.js","store/actions/canvasActions.js","components/Panel/SaveButton.jsx","components/Panel/Pipette.jsx","components/Panel/Pen.jsx","components/Panel/Eraser.jsx","components/Panel/UploadButton.jsx","components/Panel/FloodFill.jsx","components/Panel/Selection.jsx","components/Panel.jsx","modules/Tools.js","components/Canvas.jsx","components/DisplayError.jsx","components/App.js","serviceWorker.js","store/data/penProperty.js","store/data/canvasState.js","rootReducer.js","store/reducers/penProperty.js","store/reducers/canvasStateReducer.js","index.js"],"names":["changeColor","value","type","payload","changeThickness","changePipetteColor","Thickness","handleChange","event","_this","props","target","react_default","a","createElement","className","onChange","this","bind","Component","connect","state","thickness","penProperty","dispatch","bindActionCreators","ColorPicker","htmlFor","id","color","ClearButton","handleClick","ctx","clearRect","window","innerWidth","innerHeight","rect","canvas","width","height","fillStyle","fill","uk-icon","onClick","canvasState","setContext","changePenType","changeIsSelecting","updateSelectedObject","resetCanvasActions","SaveButton","e","link","refs","isSelecting","href","document","querySelector","toDataURL","getContext","Math","abs","selectedObject","imageDate","getImageData","startX","startY","putImageData","download","ref","saveCanvasAsImg","Pipette","Pen","Eraser","UploadButton","uploadImgAsCanvas","confirm","alert","file","files","reader","FileReader","image","Image","onload","src","result","drawImage","readAsDataURL","FloodFill","Selection","Panel","uk-navbar","Panel_ColorPicker","Panel_Thickness","concat","penType","Panel_Pen","Panel_Pipette","Panel_Eraser","Panel_FloodFill","Panel_Selection","Panel_ClearButton","Panel_SaveButton","Panel_UploadButton","hexToRGB","hex","r","Number","parseInt","slice","g","b","Canvas","isDrawing","lastX","lastY","selectStartX","undefined","selectStartY","beforeImageData","selectStart","selectObject","getCanvas","getCanvasContext","getCursor","cursor","style","top","pageY","left","pageX","backgroundColor","pipetteColor","draw","lineWidth","beginPath","setLineDash","strokeStyle","moveTo","lineTo","nativeEvent","offsetX","offsetY","stroke","setState","pickColor","_ref","x","y","pixel","data","join","floodFill","red","green","imageData","_ref2","_ref3","stack","blue","imgData","length","pop","pointColor","push","onClickHandle","selectingDraw","lineDashOffset","strokeRect","clientHeight","lineJoin","lineCap","_this2","resetCanvas","onMouseMove","onMouseDown","onMouseUp","onMouseOut","DisplayError","uk-grid","App","app","components_DisplayError","components_Panel","components_Canvas","Boolean","location","hostname","match","rootReducer","combineReducers","arguments","action","Object","objectSpread","assign","store","createStore","compose","applyMiddleware","thunk","devToolsEnhancer","ReactDOM","render","es","components_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.83645416.chunk.js","sourcesContent":["export const changeColor = value => {\r\n\treturn {\r\n\t\ttype: 'CHANGE_COLOR',\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport const changeThickness = value => {\r\n\treturn {\r\n\t\ttype: 'CHANGE_THICKNESS',\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport const changePipetteColor = value => {\r\n\treturn {\r\n\t\ttype: 'CHANGE_PIPETTE_COLOR',\r\n\t\tpayload: value\r\n\t}\r\n}","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { changeThickness }  from './../../store/actions/penActions';\r\n\r\nclass Thickness extends Component {\r\n\thandleChange = event => this.props.changeThickness(event.target.value);\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<label>Толщина шрифта:\r\n\t\t\t\t\t<select \r\n\t\t\t\t\t\t\tclassName=\"uk-select\" \r\n\t\t\t\t\t\t\tonChange={this.handleChange.bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"1\">\r\n\t\t\t\t\t\t\t1\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"2\">\r\n\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"4\">\r\n\t\t\t\t\t\t\t4\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"8\">\r\n\t\t\t\t\t\t\t8\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"16\">\r\n\t\t\t\t\t\t\t16\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"32\">\r\n\t\t\t\t\t\t\t32\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"64\">\r\n\t\t\t\t\t\t\t64\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tthickness: state.penProperty.thickness\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tchangeThickness: changeThickness\r\n\t}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Thickness);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { changeColor }  from './../../store/actions/penActions';\r\n\r\nclass ColorPicker extends Component {\r\n\thandleChange = event => this.props.changeColor(event.target.value);\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-flex uk-flex-column\">\r\n\t\t\t\t<label htmlFor=\"colorPicker\">Цвет:</label>\r\n\t\t\t\t<input \r\n\t\t\t\t\ttype=\"color\" \r\n\t\t\t\t\tid=\"colorPicker\" \r\n\t\t\t\t\tonChange={this.handleChange.bind(this)} \r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcolor: state.penProperty.color\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tchangeColor: changeColor\r\n\t}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ColorPicker);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\n\r\nclass ClearButton extends Component {\r\n\thandleClick = () => {\r\n\t\tthis.props.ctx.clearRect(0,0, window.innerWidth, window.innerHeight);\r\n\t\tthis.props.ctx.rect(0, 0, this.props.ctx.canvas.width, this.props.ctx.canvas.height);\r\n\t\tthis.props.ctx.fillStyle = '#ffffff';\r\n\t\tthis.props.ctx.fill();\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-margin-small-top\">\r\n\t\t\t\t<span \r\n\t\t\t\t\tid=\"clearButton\" \r\n\t\t\t\t\tclassName=\"uk-icon-link uk-icon-button\" \r\n\t\t\t\t\tuk-icon=\"trash\" \r\n\t\t\t\t\tonClick={this.handleClick.bind(this)}\r\n\t\t\t\t></span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tctx: state.canvasState.ctx\r\n\t}\r\n}\r\n\r\nClearButton.propTypes = {\r\n\tctx: PropTypes.object.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps)(ClearButton);","export const setContext = value => {\r\n\treturn {\r\n\t\ttype: 'SET_CONTEXT',\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport const changePenType = value => {\r\n\treturn {\r\n\t\ttype: 'CHANGE_PEN_TYPE',\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport const changeIsSelecting = value => {\r\n\treturn {\r\n\t\ttype: 'CHANGE_IS_SELECTING',\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport const updateSelectedObject = value => {\r\n\treturn {\r\n\t\ttype: 'UPDATE_SELECTED_OBJECT',\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport const resetCanvasActions = value => {\r\n\treturn {\r\n\t\ttype: 'RESET_CANVAS',\r\n\t\tpayload: value\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { resetCanvasActions }  from './../../store/actions/canvasActions';\r\n\r\nclass SaveButton extends Component {\r\n\tasync saveCanvasAsImg(e) {\r\n\t\tlet link = this.refs.link;\r\n\t\tif (!this.props.isSelecting) {\r\n\t\t\tlink.href = document.querySelector('#draw').toDataURL('image/png');\r\n\t\t} else if (this.props.isSelecting) {\r\n\t\t\tawait this.props.resetCanvasActions(true);\r\n\t\t\tlet canvas = document.createElement('canvas');\r\n\t\t\tlet ctx = canvas.getContext('2d');\r\n\r\n\t\t\tcanvas.width = Math.abs(this.props.selectedObject.width);\r\n\t\t\tcanvas.height = Math.abs(this.props.selectedObject.height);\r\n\t\t\t\r\n\t\t\tlet imageDate = this.props.ctx.getImageData(\r\n\t\t\t\tthis.props.selectedObject.startX,\r\n\t\t\t\tthis.props.selectedObject.startY,\r\n\t\t\t\tthis.props.selectedObject.width,\r\n\t\t\t\tthis.props.selectedObject.height\r\n\t\t\t);\r\n\r\n\t\t\tlet link = this.refs.link;\r\n\t\t\tctx.putImageData(imageDate, 0, 0);\r\n\t\t\tlink.href = canvas.toDataURL('image/png');\r\n\t\t}\r\n\t\tlink.download = 'canvasImage.png';\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-margin-small-top\">\r\n\t\t\t\t<a\r\n\t\t\t\t\tref=\"link\"\r\n\t\t\t\t\tid=\"saveButton\" \r\n\t\t\t\t\tclassName=\"uk-icon-link uk-icon-button\"\r\n\t\t\t\t\tuk-icon=\"download\"  \r\n\t\t\t\t\tonClick={this.saveCanvasAsImg.bind(this)}\r\n\t\t\t\t></a>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tctx: state.canvasState.ctx,\r\n\t\tisSelecting: state.canvasState.isSelecting,\r\n\t\tselectedObject: state.canvasState.selectedObject\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tresetCanvasActions: resetCanvasActions\r\n\t}, dispatch);\r\n}\r\n\r\nSaveButton.propTypes = {\r\n\tctx: PropTypes.object.isRequired,\r\n\tisSelecting: PropTypes.bool.isRequired,\r\n\tselectedObject: PropTypes.object.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveButton);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { bindActionCreators } from 'redux';\r\nimport { changePenType }  from './../../store/actions/canvasActions';\r\n\r\nclass Pipette extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-margin-small-top\">\r\n\t\t\t\t<span \r\n\t\t\t\t\tclassName=\"uk-icon uk-icon-button uk-icon-image pipette\" \r\n\t\t\t\t\tonClick={() => this.props.changePenType('pipette')}\r\n\t\t\t\t></span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcolor: state.penProperty.color,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tchangePenType: changePenType\r\n\t}, dispatch);\r\n}\r\n\r\nPipette.propTypes = {\r\n\tchangePenType: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pipette);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { bindActionCreators } from 'redux';\r\nimport { changePenType }  from './../../store/actions/canvasActions';\r\n\r\nclass Pen extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-margin-small-top\">\r\n\t\t\t\t<span \r\n\t\t\t\t\tclassName=\"uk-icon uk-icon-button\" \r\n\t\t\t\t\tuk-icon=\"pencil\" \r\n\t\t\t\t\tonClick={() => this.props.changePenType('pencil')}\r\n\t\t\t\t></span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcolor: state.penProperty.color,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tchangePenType: changePenType\r\n\t}, dispatch);\r\n}\r\n\r\nPen.propTypes = {\r\n\tchangePenType: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pen);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { bindActionCreators } from 'redux';\r\nimport { changePenType }  from './../../store/actions/canvasActions';\r\n\r\nclass Eraser extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-margin-small-top\">\r\n\t\t\t\t<span \r\n\t\t\t\t\tclassName=\"uk-icon uk-icon-button uk-icon-image eraser\" \r\n\t\t\t\t\tonClick={() => this.props.changePenType('eraser')}\r\n\t\t\t\t></span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcolor: state.penProperty.color,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tchangePenType: changePenType\r\n\t}, dispatch);\r\n}\r\n\r\nEraser.propTypes = {\r\n\tchangePenType: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Eraser);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\n\r\nclass UploadButton extends Component {\r\n\tuploadImgAsCanvas = e => {\r\n\t\tif (window.confirm(\"При загрузке фото холст будет очищен, вы уверены?\")) {\r\n\t\t\talert(\"Да свершится предначертанное\");\r\n\t\t\tthis.props.ctx.clearRect(0,0, window.innerWidth, window.innerHeight);\r\n\t\t\tthis.props.ctx.rect(0, 0, this.props.ctx.canvas.width, this.props.ctx.canvas.height);\r\n\t\t\tthis.props.ctx.fillStyle = '#ffffff';\r\n\t\t\tthis.props.ctx.fill();\r\n\r\n\t\t\tlet file = e.target.files[0];\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\tlet image = new Image();\r\n\r\n\t\t\treader.onload = e => {\r\n\t\t\t\timage.src = e.target.result\r\n\t\t\t\tthis.props.ctx.drawImage(image, 0, 0);\r\n\t\t\t};\r\n\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-margin-small-top\">\r\n\t\t\t\t<label \r\n\t\t\t\t\thtmlFor=\"uploadButton\"\r\n\t\t\t\t\tclassName=\"uk-icon-link uk-icon-button\"\r\n\t\t\t\t\tuk-icon=\"upload\" \r\n\t\t\t\t></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\tref=\"link\"\r\n\t\t\t\t\tid=\"uploadButton\" \r\n\t\t\t\t\tclassName=\"uk-hidden\"\r\n\t\t\t\t\tonChange={this.uploadImgAsCanvas.bind(this)}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tctx: state.canvasState.ctx\r\n\t}\r\n}\r\n\r\nUploadButton.propTypes = {\r\n\tctx: PropTypes.object\r\n}\r\n\r\nexport default connect(mapStateToProps)(UploadButton);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { bindActionCreators } from 'redux';\r\nimport { changePenType }  from './../../store/actions/canvasActions';\r\n\r\nclass FloodFill extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-margin-small-top\">\r\n\t\t\t\t<span \r\n\t\t\t\t\tclassName=\"uk-icon uk-icon-button\" \r\n\t\t\t\t\tuk-icon=\"paint-bucket\" \r\n\t\t\t\t\tonClick={() => this.props.changePenType('paint-bucket')}\r\n\t\t\t\t></span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcolor: state.penProperty.color,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tchangePenType: changePenType\r\n\t}, dispatch);\r\n}\r\n\r\nFloodFill.propTypes = {\r\n\tchangePenType: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FloodFill);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { bindActionCreators } from 'redux';\r\nimport { changeIsSelecting, resetCanvasActions }  from './../../store/actions/canvasActions';\r\n\r\nclass Selection extends Component {\r\n\thandleClick = () => {\r\n\t\tthis.props.changeIsSelecting(true)\r\n\t\tif (this.props.isSelecting) this.props.resetCanvasActions(true)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"uk-margin-small-top\">\r\n\t\t\t\t<span \r\n\t\t\t\t\tclassName=\"uk-icon uk-icon-button uk-icon-image selection\" \r\n\t\t\t\t\tonClick={this.handleClick.bind(this)}\r\n\t\t\t\t></span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcolor: state.penProperty.color,\r\n\t\tisSelecting: state.canvasState.isSelecting\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tchangeIsSelecting: changeIsSelecting,\r\n\t\tresetCanvasActions: resetCanvasActions\r\n\t}, dispatch);\r\n}\r\n\r\nSelection.propTypes = {\r\n\tchangeIsSelecting: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Selection);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Thickness from './Panel/Thickness';\r\nimport ColorPicker from './Panel/ColorPicker';\r\nimport ClearButton from './Panel/ClearButton';\r\nimport SaveButton from './Panel/SaveButton';\r\nimport Pipette from './Panel/Pipette';\r\nimport Pen from './Panel/Pen';\r\nimport Eraser from './Panel/Eraser';\r\nimport UploadButton from './Panel/UploadButton'\r\nimport FloodFill from './Panel/FloodFill';\r\nimport Selection from './Panel/Selection';\r\n\r\nclass Panel extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<nav className=\"uk-navbar-container uk-flex uk-flex-center\" uk-navbar=\"true\">\r\n\t\t\t\t\t<div className=\"uk-navbar-left\">\r\n\t\t\t\t\t\t<ul className=\"uk-navbar-nav uk-flex uk-flex-row uk-flex-middle panel\">\r\n\t\t\t\t\t\t\t<li className=\"uk-active uk-margin-top uk-margin-bottom uk-margin-left uk-margin-right uk-flex uk-flex-middle\">\r\n\t\t\t\t\t\t\t\t<ColorPicker />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"uk-active uk-margin-top uk-margin-bottom uk-margin-left uk-margin-right\">\r\n\t\t\t\t\t\t\t\t<Thickness />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className={`uk-active uk-margin-top uk-margin-bottom uk-margin-left ${this.props.penType === 'pencil' && 'active'}`}>\r\n\t\t\t\t\t\t\t\t<Pen />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className={`uk-active uk-margin-top uk-margin-bottom uk-margin-left ${this.props.penType === 'pipette' && 'active'}`}>\r\n\t\t\t\t\t\t\t\t<Pipette />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className={`uk-active uk-margin-top uk-margin-bottom uk-margin-left ${this.props.penType === 'eraser' && 'active'}`}>\r\n\t\t\t\t\t\t\t\t<Eraser />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className={`uk-active uk-margin-top uk-margin-bottom uk-margin-left ${this.props.penType === 'paint-bucket' && 'active'}`}>\r\n\t\t\t\t\t\t\t\t<FloodFill />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className={`uk-active uk-margin-top uk-margin-bottom uk-margin-left ${this.props.isSelecting && 'active'}`}>\r\n\t\t\t\t\t\t\t\t<Selection />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"uk-active uk-margin-top uk-margin-bottom uk-margin-left\">\r\n\t\t\t\t\t\t\t\t<ClearButton />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"uk-active uk-margin-top uk-margin-bottom uk-margin-left\">\r\n\t\t\t\t\t\t\t\t<SaveButton />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"uk-active uk-margin-top uk-margin-bottom uk-margin-left\">\r\n\t\t\t\t\t\t\t\t<UploadButton />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tpenType: state.canvasState.penType,\r\n\t\tisSelecting: state.canvasState.isSelecting\r\n\t}\r\n}\r\n\r\nPanel.propTypes = {\r\n\tpenType: PropTypes.string.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps)(Panel);","export const hexToRGB = hex => {\r\n\treturn {\r\n\t\tr: Number.parseInt(hex.slice(1, 3), 16),\r\n\t\tg: Number.parseInt(hex.slice(3, 5), 16),\r\n\t\tb: Number.parseInt(hex.slice(5, 7), 16),\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { bindActionCreators } from 'redux';\r\nimport { \r\n\tsetContext, \r\n\tchangeIsSelecting, \r\n\tupdateSelectedObject, \r\n\tresetCanvasActions,\r\n\t} from './../store/actions/canvasActions';\r\nimport { changeColor, changePipetteColor } from './../store/actions/penActions';\r\nimport { hexToRGB } from './../modules/Tools';\r\n\r\nclass Canvas extends Component {\r\n\tstate = {\r\n\t\tisDrawing: false,\r\n\t\tlastX: 0,\r\n\t\tlastY: 0,\r\n\t\tselectStartX: undefined,\r\n\t\tselectStartY: undefined,\r\n\t\tbeforeImageData: undefined,\r\n\t\tselectStart: false,\r\n\t\tselectObject: {}\r\n\t};\r\n\r\n\tgetCanvas = () => this.refs.canvas;\r\n\tgetCanvasContext = () => this.getCanvas().getContext('2d');\r\n\tgetCursor = () => document.querySelector('.cursor');\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst canvas = this.getCanvas();\r\n\t\tconst ctx = this.getCanvasContext();\r\n\r\n\t\tthis.props.setContext(ctx);\r\n\r\n\t\tcanvas.width = window.innerWidth;\r\n\t\tcanvas.height = window.innerHeight - document.querySelector('.uk-navbar-container').clientHeight;\r\n\r\n\t\tthis.setState({\r\n\t\t\tbeforeImageData: ctx.getImageData(0, 0, canvas.width, canvas.height)\r\n\t\t});\r\n\r\n\t\tctx.strokeStyle = this.props.color;\r\n\t\tctx.lineJoin = \"round\";\r\n\t\tctx.lineCap = \"round\";\r\n\t\tctx.lineWidth = this.props.thickness;\r\n\t\tctx.rect(0, 0, canvas.width, canvas.height);\r\n\t\tctx.fillStyle = '#ffffff';\r\n\t\tctx.fill();\r\n\t}\r\n\r\n\tcursor = e => {\r\n\t\tconst cursor = this.getCursor();\r\n\r\n\t\tcursor.style.width = `${this.props.thickness + 5}px`;\r\n\t\tcursor.style.height = `${this.props.thickness + 5}px`;\r\n\r\n\t\tcursor.style.top = `${e.pageY - Number.parseInt(cursor.style.height)/2}px`;\r\n\t\tcursor.style.left = `${e.pageX - Number.parseInt(cursor.style.width)/2}px`;\r\n\r\n\t\tif (this.props.penType === 'pencil' || this.props.penType === 'paint-bucket') {\r\n\t\t\tcursor.style.backgroundColor  = `${this.props.color}`;\r\n\t\t} else if (this.props.penType === 'pipette') {\r\n\t\t\tcursor.style.backgroundColor  = `${this.props.pipetteColor}`;\r\n\t\t} else if (this.props.penType === 'eraser') {\r\n\t\t\tcursor.style.backgroundColor = '#ffffff';\r\n\t\t}\r\n\t};\r\n\r\n\tdraw = e => {\r\n\t\tthis.cursor(e);\r\n\t\tthis.props.ctx.lineWidth = this.props.thickness;\r\n\t\tif (this.state.isDrawing && this.props.penType !== 'paint-bucket') {\r\n\t\t\tthis.props.ctx.beginPath();\r\n\t\t\tthis.props.ctx.setLineDash([0]);\r\n\r\n\t\t\tif (this.props.penType === 'pencil')\r\n\t\t\t\tthis.props.ctx.strokeStyle = this.props.color;\r\n\t\t\telse if (this.props.penType === 'pipette')\r\n\t\t\t\tthis.props.ctx.strokeStyle = this.props.pipetteColor;\r\n\t\t\telse if (this.props.penType === 'eraser')\r\n\t\t\t\tthis.props.ctx.strokeStyle = '#ffffff';\r\n\r\n\t\t\tthis.props.ctx.moveTo(this.state.lastX, this.state.lastY);\r\n\t\t\tthis.props.ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n\t\t\tthis.props.ctx.stroke();\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tlastX: e.nativeEvent.offsetX,\r\n\t\t\t\tlastY: e.nativeEvent.offsetY\r\n\t\t\t})\r\n\t\t}\r\n\t};\r\n\r\n\tpickColor = e => {\r\n\t\tconst [x, y] = [e.nativeEvent.offsetX, e.nativeEvent.offsetY];\r\n\t\tconst imgData = this.props.ctx.getImageData(x, y, 1, 1);\r\n\t\tconst pixel = imgData.data;\r\n\t\tthis.props.changePipetteColor(`rgba(${pixel.join(',')})`);\r\n\t};\r\n\r\n\tfloodFill = e => {\r\n\t\tlet color = hexToRGB(this.props.color);\r\n\t\tlet imageData = this.props.ctx.getImageData(0, 0, this.getCanvas().width, this.getCanvas().height);\r\n\t\tlet [width, height] = [imageData.width, imageData.height];\r\n\t\tlet [x, y] = [e.nativeEvent.offsetX, e.nativeEvent.offsetY];\r\n\t\t\r\n\t\tlet stack = [[x, y]];\r\n\t\tlet pixel;\r\n\t\tlet red, green, blue = 0;\r\n\r\n\t\tconst imgData = this.props.ctx.getImageData(x, y, 1, 1)\r\n\t\tconst backgroundColor = {\r\n\t\t\tr: imgData.data[0],\r\n\t\t\tg: imgData.data[1],\r\n\t\t\tb: imgData.data[2]\r\n\t\t}\r\n\r\n\t\twhile (stack.length > 0) {   \r\n\t\t\tpixel = stack.pop();\r\n\r\n\t\t\tif (pixel[0] < 0 || pixel[0] >= width) continue;\r\n\t\t\tif (pixel[1] < 0 || pixel[1] >= height) continue;\r\n\t\t\t\t\r\n\t\t\tred = pixel[1] * 4 * width + pixel[0] * 4;\r\n\t\t\tgreen = red + 1;\r\n\t\t\tblue = green + 1;\r\n\t\t\tconst pointColor = {\r\n\t\t\t\tr: imageData.data[red],\r\n\t\t\t\tg: imageData.data[green],\r\n\t\t\t\tb: imageData.data[blue]\r\n\t\t\t}\r\n\r\n\t\t\tif ((pointColor.r !== color.r || pointColor.g !== color.g || pointColor.b !== color.b)\r\n\t\t\t\t&& (pointColor.r === backgroundColor.r && pointColor.g === backgroundColor.g && pointColor.b === backgroundColor.b)) {\r\n\t\t\t\timageData.data[red] = color.r;\r\n\t\t\t\timageData.data[green] = color.g;\r\n\t\t\t\timageData.data[blue] = color.b;\r\n\t\t\t\t\r\n\t\t\t\tstack.push([\r\n\t\t\t\t\tpixel[0] - 1,\r\n\t\t\t\t\tpixel[1]\r\n\t\t\t\t  ]);\r\n\t\t\t\tstack.push([\r\n\t\t\t\t\tpixel[0] + 1,\r\n\t\t\t\t\tpixel[1]\r\n\t\t\t\t  ]);\r\n\t\t\t\tstack.push([\r\n\t\t\t\t\tpixel[0],\r\n\t\t\t\t\tpixel[1] - 1\r\n\t\t\t\t  ]);\r\n\t\t\t\tstack.push([\r\n\t\t\t\t\tpixel[0],\r\n\t\t\t\t\tpixel[1] + 1\r\n\t\t\t\t]);\r\n\t\t\t}\r\n    }\r\n\t\tthis.props.ctx.putImageData(imageData, 0, 0);\r\n\t};\r\n\r\n\tonClickHandle = e => {\r\n\t\tif (this.props.penType === 'pipette') this.pickColor(e);\r\n\t\telse if (this.props.penType === 'paint-bucket') this.floodFill(e);\r\n\t};\r\n\r\n\tselectingDraw = e => {\r\n\t\tthis.cursor(e)\r\n\t\tif (this.state.selectStart) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tlastX: e.nativeEvent.offsetX,\r\n\t\t\t\tlastY: e.nativeEvent.offsetY\r\n\t\t\t}, () => {\r\n\t\t\t\tlet width = this.state.lastX - this.state.selectStartX;\r\n\t\t\t\tlet height = this.state.lastY - this.state.selectStartY;\r\n\t\t\t\tthis.props.ctx.setLineDash([4, 4]);\r\n  \t\t\tthis.props.ctx.lineDashOffset = 0;\r\n\t\t\t\tthis.props.ctx.strokeRect(this.state.selectStartX, this.state.selectStartY, width, height);\r\n\t\t\t});\r\n\t\t\tthis.props.ctx.putImageData(this.state.beforeImageData, 0, 0);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.resetCanvas) {\r\n\t\t\tthis.props.ctx.putImageData(this.state.beforeImageData, 0, 0);\r\n\t\t\tthis.props.resetCanvasActions(false);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"draw-container\">\r\n\t\t\t\t<div className=\"cursor\"></div>\r\n\t\t\t\t<canvas\r\n\t\t\t\t\tid=\"draw\"\r\n\t\t\t\t\tref=\"canvas\" \r\n\t\t\t\t\tclassName=\"uk-width-1-1\"\r\n\r\n\t\t\t\t\tonMouseMove={e => {\r\n\t\t\t\t\t\tthis.props.isSelecting ? this.selectingDraw(e) : this.draw(e);\r\n\t\t\t\t\t\tif (this.props.isSelecting) {\r\n\t\t\t\t\t\t\tthis.selectingDraw(e);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.draw(e)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\r\n\t\t\t\t\tonMouseDown={e => {\r\n\t\t\t\t\t\tif (this.props.isSelecting) {\r\n\t\t\t\t\t\t\tlet canvas = this.getCanvas();\r\n\t\t\t\t\t\t\tlet imageData = this.props.ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectStartX: this.state.selectStartX === undefined ? e.nativeEvent.offsetX : this.state.selectStartX,\r\n\t\t\t\t\t\t\t\tselectStartY: this.state.selectStartY === undefined ? e.nativeEvent.offsetY : this.state.selectStartY,\r\n\t\t\t\t\t\t\t\tbeforeImageData: !this.state.selectStart ? imageData : this.state.beforeImageData,\r\n\t\t\t\t\t\t\t\tselectStart: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tisDrawing: this.state.isSelecting ? false : true,\r\n\t\t\t\t\t\t\t\tlastX: e.nativeEvent.offsetX,\r\n\t\t\t\t\t\t\t\tlastY: e.nativeEvent.offsetY,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\r\n\t\t\t\t\tonMouseUp={e => {\r\n\t\t\t\t\t\tif (this.props.isSelecting) {\r\n\t\t\t\t\t\t\tlet width = this.state.lastX - this.state.selectStartX;\r\n\t\t\t\t\t\t\tlet height = this.state.lastY - this.state.selectStartY;\r\n\t\t\t\t\t\t\tlet selectObject = {\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t\tstartX: this.state.selectStartX,\r\n\t\t\t\t\t\t\t\tlastX: this.state.lastX,\r\n\t\t\t\t\t\t\t\tstartY: this.state.selectStartY,\r\n\t\t\t\t\t\t\t\tlastY: this.state.lastY,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.props.updateSelectedObject(selectObject);\r\n\t\t\t\t\t\t\tthis.props.ctx.setLineDash([4, 4]);\r\n\t\t\t\t\t\t\tthis.props.ctx.putImageData(this.state.beforeImageData, 0, 0);\r\n\t\t\t\t\t\t\tthis.props.ctx.strokeRect(this.state.selectStartX, this.state.selectStartY, width, height);\r\n\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectStartX: undefined,\r\n\t\t\t\t\t\t\t\tselectStartY: undefined,\r\n\t\t\t\t\t\t\t\tselectStart: false,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tisDrawing: false\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\r\n\t\t\t\t\tonMouseOut={e => {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tisDrawing: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\r\n\t\t\t\t\tonClick={this.onClickHandle.bind(this)}\r\n\t\t\t\t\t>\r\n\t\t\t\t</canvas>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcolor: state.penProperty.color,\r\n\t\tthickness: state.penProperty.thickness,\r\n\t\tctx: state.canvasState.ctx,\r\n\t\tpipetteColor: state.penProperty.pipetteColor,\r\n\t\tpenType: state.canvasState.penType,\r\n\t\tisSelecting: state.canvasState.isSelecting,\r\n\t\tresetCanvas: state.canvasState.resetCanvas,\r\n\t\tselectedObject: state.canvasState.selectedObject\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn bindActionCreators({\r\n\t\tsetContext: setContext,\r\n\t\tchangeColor: changeColor,\r\n\t\tchangePipetteColor: changePipetteColor,\r\n\t\tchangeIsSelecting: changeIsSelecting,\r\n\t\tupdateSelectedObject: updateSelectedObject,\r\n\t\tresetCanvasActions: resetCanvasActions\r\n\t}, dispatch);\r\n}\r\n\r\nCanvas.propTypes = {\r\n\tcolor: PropTypes.string.isRequired,\r\n\tthickness: PropTypes.number.isRequired,\r\n\tsetContext: PropTypes.func.isRequired,\r\n\tctx: PropTypes.object.isRequired,\r\n\tchangeColor: PropTypes.func.isRequired,\r\n\tchangePipetteColor: PropTypes.func.isRequired,\r\n\tisSelecting: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Canvas);","import React from 'react';\r\n\r\nconst DisplayError = () => {\r\n\treturn(\r\n\t\t<div className=\"uk-container uk-margin-small-top\">\r\n\t\t\t<div className=\"uk-card uk-card-default uk-width-1-2@m\">\r\n\t\t\t\t<div className=\"uk-card-header\">\r\n\t\t\t\t\t<div className=\"uk-grid-small uk-flex-middle\" uk-grid=\"true\">\r\n\t\t\t\t\t  <div className=\"uk-width-expand uk-flex uk-flex-center\">\r\n\t\t\t\t\t\t\t<h3 className=\"uk-card-title uk-margin-remove-bottom\">Ваш браузер не поддерживается</h3>\r\n\t\t\t\t\t \t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"uk-card-body uk-flex uk-flex-center\">\r\n\t\t\t\t  <button className=\"uk-button uk-button-danger uk-button-small\">Кинуть в faramo_zayw тапок</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DisplayError;","import React, { Component } from 'react';\nimport './../css/App.css';\nimport Panel from './Panel';\nimport Canvas from './Canvas';\nimport DisplayError from './DisplayError';\n\nclass App extends Component {\n  render() {\n  \tconst app = !(window.innerWidth < 768) ? (<div className=\"App\">\n\t\t\t<Panel />\n\t\t\t<Canvas /> \n\t\t</div>) : <DisplayError />;\n\n    return (\n    \t<div>\n    \t\t{app}\n    \t</div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const penProperty = {\r\n\tcolor: '#000000',\r\n\tthickness: 1,\r\n\tpipetteColor: '#000000'\r\n}\r\n\r\nexport default penProperty;","const canvasState = {\r\n\tctx: {},\r\n\tpenType: 'pencil',\r\n\tisSelecting: false,\r\n\tselectedObject: {},\r\n\tresetCanvas: false\r\n}\r\n\r\nexport default canvasState;\r\n\r\n/*\r\n\tpenType:\r\n\t\tpencil\r\n\t\tpipette\r\n\t\teraser\r\n\t\tpaint-bucket\r\n*/","import { combineReducers } from 'redux';\r\nimport penProperty from './store/reducers/penProperty.js';\r\nimport canvasStateReducer from './store/reducers/canvasStateReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\t\"penProperty\": penProperty,\r\n\t\"canvasState\": canvasStateReducer\r\n});\r\n\r\nexport default rootReducer;","import penProperty from './../data/penProperty';\r\n\r\nexport default (state = penProperty, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'CHANGE_COLOR':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcolor: action.payload\r\n\t\t\t}\r\n\t\tcase 'CHANGE_THICKNESS':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tthickness: Number(action.payload)\r\n\t\t\t}\r\n\t\tcase 'CHANGE_PIPETTE_COLOR':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpipetteColor: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import canvasState from './../data/canvasState';\r\n\r\nexport default (state = canvasState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'SET_CONTEXT':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tctx: action.payload\r\n\t\t\t}\r\n\t\tcase 'CHANGE_PEN_TYPE': \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpenType: action.payload,\r\n\t\t\t\tisSelecting: false,\r\n\t\t\t\tresetCanvas: state.isSelecting ? true : false\r\n\t\t\t}\r\n\t\tcase 'CHANGE_IS_SELECTING': \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpenType: action.payload ? 'none' : 'pencil',\r\n\t\t\t\tisSelecting: action.payload\r\n\t\t\t}\r\n\t\tcase 'UPDATE_SELECTED_OBJECT': \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tselectedObject: Object.assign(action.payload)\r\n\t\t\t}\r\n\t\tcase 'RESET_CANVAS':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tresetCanvas: action.payload,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { devToolsEnhancer } from 'redux-devtools-extension';\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport './css/index.css';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\nimport rootReducer from './rootReducer';\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tcompose(\r\n\t\tapplyMiddleware(thunk), \r\n\t\tdevToolsEnhancer()\r\n\t)\r\n);\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();"],"sourceRoot":""}